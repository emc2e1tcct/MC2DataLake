{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Nombre de instancia de Data Factory",
			"defaultValue": "adf-mc2dl-pro"
		},
		"AzureDataLakeStorageDataFact_properties_privateLinkResourceId": {
			"type": "string",
			"defaultValue": "/subscriptions/c57a9b5b-3248-42c5-89b4-0b1ad199ecbe/resourceGroups/rg-mc2dl-pro/providers/Microsoft.Storage/storageAccounts/storagemc2dlprod"
		},
		"AzureDataLakeStorageDataFact_properties_groupId": {
			"type": "string",
			"defaultValue": "dfs"
		},
		"AzureDataLakeStorageDataFact_properties_fqdns": {
			"type": "array",
			"defaultValue": [
				"storagemc2dlprod.dfs.core.windows.net"
			]
		},
		"AzureDataLakeStorageGen2_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://storagemc2dlprod.dfs.core.windows.net/"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/SourceMaestras')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MC2Dataverse",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"cw_entityName": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "CommonDataServiceForAppsEntity",
				"schema": [],
				"typeProperties": {
					"entityName": {
						"value": "@dataset().cw_entityName",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SourceMaestrasE3')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MC2Dataverse",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"cw_entityName": {
						"type": "array"
					}
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "CommonDataServiceForAppsEntity",
				"schema": [],
				"typeProperties": {
					"entityName": {
						"value": "@dataset().cw_entityName",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SourcePrincipales')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MC2Dataverse",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"cw_entityName": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "CommonDataServiceForAppsEntity",
				"schema": [],
				"typeProperties": {
					"entityName": {
						"value": "@dataset().cw_entityName",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SourcePrincipalesE3')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MC2Dataverse",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"cw_entityName": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "CommonDataServiceForAppsEntity",
				"schema": [],
				"typeProperties": {
					"entityName": {
						"value": "@dataset().cw_entityName",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/integrationRuntimeDataFact')]",
			"type": "Microsoft.DataFactory/factories/integrationRuntimes",
			"apiVersion": "2018-06-01",
			"properties": {
				"type": "Managed",
				"typeProperties": {
					"computeProperties": {
						"location": "North Europe",
						"dataFlowProperties": {
							"computeType": "General",
							"coreCount": 8,
							"timeToLive": 10,
							"cleanup": false
						}
					}
				},
				"managedVirtualNetwork": {
					"type": "ManagedVirtualNetworkReference",
					"referenceName": "default"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/default/AzureDataLakeStorageDataFact')]",
			"type": "Microsoft.DataFactory/factories/managedVirtualNetworks/managedPrivateEndpoints",
			"apiVersion": "2018-06-01",
			"properties": {
				"privateLinkResourceId": "[parameters('AzureDataLakeStorageDataFact_properties_privateLinkResourceId')]",
				"groupId": "[parameters('AzureDataLakeStorageDataFact_properties_groupId')]",
				"fqdns": "[parameters('AzureDataLakeStorageDataFact_properties_fqdns')]"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureDataLakeStorageGen2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('AzureDataLakeStorageGen2_properties_typeProperties_url')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntimeDataFact",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/integrationRuntimes/integrationRuntimeDataFact')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/dataflow1')]",
			"type": "Microsoft.DataFactory/factories/dataflows",
			"apiVersion": "2018-06-01",
			"properties": {
				"type": "MappingDataFlow",
				"typeProperties": {
					"sources": [
						{
							"linkedService": {
								"referenceName": "AzureBlobStorageForSnowflake",
								"type": "LinkedServiceReference"
							},
							"name": "source1"
						}
					],
					"sinks": [
						{
							"dataset": {
								"referenceName": "Snowflake_E3C_CESTAS",
								"type": "DatasetReference"
							},
							"name": "sink1"
						}
					],
					"transformations": [],
					"script": "source(output(\n\t\tcreatedby as string,\n\t\tcreatedbyname as string,\n\t\tcreatedbyyominame as string,\n\t\tcreatedon as timestamp,\n\t\tcreatedonbehalfby as string,\n\t\tcreatedonbehalfbyname as string,\n\t\tcreatedonbehalfbyyominame as string,\n\t\timportsequencenumber as integer,\n\t\tmc2_bloque as string,\n\t\tmc2_maestro_bloqueid as string,\n\t\tmodifiedby as string,\n\t\tmodifiedbyname as string,\n\t\tmodifiedbyyominame as string,\n\t\tmodifiedon as timestamp,\n\t\tmodifiedonbehalfby as string,\n\t\tmodifiedonbehalfbyname as string,\n\t\tmodifiedonbehalfbyyominame as string,\n\t\toverriddencreatedon as timestamp,\n\t\townerid as string,\n\t\towneridname as string,\n\t\towneridtype as string,\n\t\towneridyominame as string,\n\t\towningbusinessunit as string,\n\t\towningbusinessunitname as string,\n\t\towningteam as string,\n\t\towninguser as string,\n\t\tstatecode as integer,\n\t\tstatuscode as integer,\n\t\ttimezoneruleversionnumber as integer,\n\t\tutcconversiontimezonecode as integer,\n\t\tversionnumber as long\n\t),\n\tallowSchemaDrift: false,\n\tvalidateSchema: true,\n\tignoreNoFilesFound: false,\n\tformat: 'parquet',\n\tcontainer: 'mc2-bs-golden',\n\tfolderPath: '2021/12',\n\tfileName: '20211213-mc2_maestro_bloque.parquet',\n\tcompressionCodec: 'snappy') ~> source1\nsource1 sink(allowSchemaDrift: false,\n\tvalidateSchema: true,\n\tinput(\n\t\te3c_categoria_producto as string,\n\t\te3c_categoria_productoname as string,\n\t\te3c_centro_gestorname as string,\n\t\te3c_enviado_sap as boolean,\n\t\te3c_revisor_exp as string,\n\t\te3c_sa_tr as string,\n\t\te3c_unidad as string,\n\t\te3c_url_carpeta_sharepoint_tr as string,\n\t\te3c_envio_urgente_ordinaria as string,\n\t\te3c_org_comprasname as string,\n\t\te3c_pedidosap as string,\n\t\te3c_revisor_expname as string,\n\t\te3c_solicitante_ordinarianame as string,\n\t\te3c_tipo_imputacion as string,\n\t\towningbusinessunit as string,\n\t\tstatecode as decimal(38,0),\n\t\towninguser as string,\n\t\tcreatedby as string,\n\t\tcreatedonbehalfby as string,\n\t\te3c_aprobacion_compra as boolean,\n\t\te3c_centro_gestor as string,\n\t\te3c_contrato as string,\n\t\te3c_fecha_inicio_tr as timestamp,\n\t\te3c_grupo_compras as string,\n\t\te3c_area_funcional as string,\n\t\timportsequencenumber as decimal(38,0),\n\t\tutcconversiontimezonecode as decimal(38,0),\n\t\te3c_num_pedido_cliente as string,\n\t\te3c_fecha_fin_tr as timestamp,\n\t\te3c_grupo_comprasname as string,\n\t\te3c_moneda_tr as string,\n\t\te3c_nota_tramitacion as string,\n\t\tmodifiedonbehalfby as string,\n\t\towneridname as string,\n\t\te3c_estado_cesta_ordinaria as string,\n\t\te3c_gasto_inversionname as string,\n\t\te3c_precio_bruto as string,\n\t\te3c_proveedor_tr as string,\n\t\te3c_proyecto_tr as string,\n\t\te3c_area_funcionalname as string,\n\t\te3c_cliente_tr as string,\n\t\te3c_dest_mercanciasname as string,\n\t\te3c_fecha_contabilizacion as timestamp,\n\t\te3c_org_compras as string,\n\t\te3c_solicitante_derivadaname as string,\n\t\tmodifiedbyname as string,\n\t\te3c_nombre_cesta as string,\n\t\towningbusinessunitname as string,\n\t\tstatuscode as decimal(38,0),\n\t\te3c_ap_tr as string,\n\t\te3c_contratoname as string,\n\t\te3c_descripcion_proyecto_tr as string,\n\t\te3c_importe_total_tr as string,\n\t\te3c_status_ariba as string,\n\t\te3c_tipo_facturacion_tr as string,\n\t\towneridtype as string,\n\t\te3c_fecha_entrega_tr as timestamp,\n\t\te3c_nota_aprobacion as string,\n\t\te3c_sociedadname as string,\n\t\tmodifiedonbehalfbyname as string,\n\t\townerid as string,\n\t\te3c_gasto_inversion as string,\n\t\tcreatedbyname as string,\n\t\te3c_cestasid as string,\n\t\te3c_contrato_tr as string,\n\t\te3c_centro as string,\n\t\tmodifiedbyyominame as string,\n\t\tmodifiedonbehalfbyyominame as string,\n\t\towneridyominame as string,\n\t\towningteam as string,\n\t\ttimezoneruleversionnumber as decimal(38,0),\n\t\te3c_nota_proveedores as string,\n\t\te3c_tipo_compra as string,\n\t\tcreatedonbehalfbyname as string,\n\t\te3c_centroname as string,\n\t\te3c_codigosap as string,\n\t\te3c_dest_mercancias as string,\n\t\te3c_elemento_pep_tr as string,\n\t\te3c_estado_cesta_derivadaname as string,\n\t\te3c_sociedad as string,\n\t\tcreatedbyyominame as string,\n\t\te3c_solicitante_derivada as string,\n\t\tmodifiedby as string,\n\t\te3c_status_aribaname as string,\n\t\te3c_pedido as string,\n\t\tcreatedon as timestamp,\n\t\tcreatedonbehalfbyyominame as string,\n\t\te3c_cantidad_base_ordinaria as string,\n\t\te3c_estado_cesta_derivada as string,\n\t\te3c_tipo_imputacionname as string,\n\t\te3c_estado_cesta_ordinarianame as string,\n\t\te3c_fecha_sap as timestamp,\n\t\te3c_solicitante_ordinaria as string,\n\t\tmodifiedon as timestamp,\n\t\toverriddencreatedon as timestamp,\n\t\tversionnumber as decimal(38,0),\n\t\te3c_tipo_cesta_ordinaria as string\n\t),\n\tdeletable:false,\n\tinsertable:true,\n\tupdateable:false,\n\tupsertable:false,\n\trecreate:true,\n\tformat: 'table',\n\tskipDuplicateMapInputs: true,\n\tskipDuplicateMapOutputs: true,\n\tstageInsert: true) ~> sink1"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationGolden')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Destination"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "mc2-bs-golden"
					},
					"compressionCodec": "snappy"
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationMaestrasBronce')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"cw_fileName_Maestras": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Destination"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-',dataset().cw_fileName_Maestras)",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-bronze"
					},
					"compressionCodec": "snappy"
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationMaestrasE3')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"cw_fileName_MaestrasE3": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Destination"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-',dataset().cw_fileName_MaestrasE3)",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}/",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-bronze"
					},
					"compressionCodec": "snappy"
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationPrincipalesBronce')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"cw_fileName_Principales": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Destination"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-',dataset().cw_fileName_Principales)",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-bronze"
					},
					"compressionCodec": "snappy"
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationPrincipalesE3')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"cw_fileName_PrincipalesE3": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Destination"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-',dataset().cw_fileName_PrincipalesE3)",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}/",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-bronze"
					},
					"compressionCodec": "snappy"
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationSilver')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Destination"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "mc2-bs-silver"
					},
					"compressionCodec": "snappy"
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/EC3MaestroCompraDestMercancias')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-e3c_maestro_compra_dest_mercancias.parquet')",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-golden"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "createdby",
						"type": "UTF8"
					},
					{
						"name": "createdbyname",
						"type": "UTF8"
					},
					{
						"name": "createdbyyominame",
						"type": "UTF8"
					},
					{
						"name": "createdon",
						"type": "INT96"
					},
					{
						"name": "createdonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "e3c_maestro_compra_dest_mercanciasid",
						"type": "UTF8"
					},
					{
						"name": "e3c_nombre_completo",
						"type": "UTF8"
					},
					{
						"name": "e3c_tipo_usuario",
						"type": "UTF8"
					},
					{
						"name": "e3c_usuario",
						"type": "UTF8"
					},
					{
						"name": "e3c_valido_desde",
						"type": "INT96"
					},
					{
						"name": "e3c_valido_hasta",
						"type": "INT96"
					},
					{
						"name": "importsequencenumber",
						"type": "INT32"
					},
					{
						"name": "modifiedby",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyyominame",
						"type": "UTF8"
					},
					{
						"name": "modifiedon",
						"type": "INT96"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "overriddencreatedon",
						"type": "INT96"
					},
					{
						"name": "ownerid",
						"type": "UTF8"
					},
					{
						"name": "owneridname",
						"type": "UTF8"
					},
					{
						"name": "owneridtype",
						"type": "UTF8"
					},
					{
						"name": "owneridyominame",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunit",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunitname",
						"type": "UTF8"
					},
					{
						"name": "owningteam",
						"type": "UTF8"
					},
					{
						"name": "owninguser",
						"type": "UTF8"
					},
					{
						"name": "statecode",
						"type": "INT32"
					},
					{
						"name": "statuscode",
						"type": "INT32"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "INT32"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "INT32"
					},
					{
						"name": "versionnumber",
						"type": "INT64"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/EC3MaestroCompraMoneda')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-e3c_maestro_compra_moneda.parquet')",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-golden"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "createdby",
						"type": "UTF8"
					},
					{
						"name": "createdbyname",
						"type": "UTF8"
					},
					{
						"name": "createdbyyominame",
						"type": "UTF8"
					},
					{
						"name": "createdon",
						"type": "INT96"
					},
					{
						"name": "createdonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "e3c_descripcion",
						"type": "UTF8"
					},
					{
						"name": "e3c_maestro_compra_monedaid",
						"type": "UTF8"
					},
					{
						"name": "e3c_moneda",
						"type": "UTF8"
					},
					{
						"name": "importsequencenumber",
						"type": "INT32"
					},
					{
						"name": "modifiedby",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyyominame",
						"type": "UTF8"
					},
					{
						"name": "modifiedon",
						"type": "INT96"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "overriddencreatedon",
						"type": "INT96"
					},
					{
						"name": "ownerid",
						"type": "UTF8"
					},
					{
						"name": "owneridname",
						"type": "UTF8"
					},
					{
						"name": "owneridtype",
						"type": "UTF8"
					},
					{
						"name": "owneridyominame",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunit",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunitname",
						"type": "UTF8"
					},
					{
						"name": "owningteam",
						"type": "UTF8"
					},
					{
						"name": "owninguser",
						"type": "UTF8"
					},
					{
						"name": "statecode",
						"type": "INT32"
					},
					{
						"name": "statuscode",
						"type": "INT32"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "INT32"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "INT32"
					},
					{
						"name": "versionnumber",
						"type": "INT64"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/SourceBronce')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "mc2-bs-bronze"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "createdby",
						"type": "UTF8"
					},
					{
						"name": "createdbyname",
						"type": "UTF8"
					},
					{
						"name": "createdbyyominame",
						"type": "UTF8"
					},
					{
						"name": "createdon",
						"type": "INT96"
					},
					{
						"name": "createdonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "importsequencenumber",
						"type": "INT32"
					},
					{
						"name": "mc2_actividad_principal",
						"type": "UTF8"
					},
					{
						"name": "mc2_aprobacion",
						"type": "UTF8"
					},
					{
						"name": "mc2_comentario",
						"type": "UTF8"
					},
					{
						"name": "mc2_comentarios_proyectoid",
						"type": "UTF8"
					},
					{
						"name": "mc2_fecha",
						"type": "INT96"
					},
					{
						"name": "modifiedby",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyyominame",
						"type": "UTF8"
					},
					{
						"name": "modifiedon",
						"type": "INT96"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "overriddencreatedon",
						"type": "INT96"
					},
					{
						"name": "ownerid",
						"type": "UTF8"
					},
					{
						"name": "owneridname",
						"type": "UTF8"
					},
					{
						"name": "owneridtype",
						"type": "UTF8"
					},
					{
						"name": "owneridyominame",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunit",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunitname",
						"type": "UTF8"
					},
					{
						"name": "owningteam",
						"type": "UTF8"
					},
					{
						"name": "owninguser",
						"type": "UTF8"
					},
					{
						"name": "statecode",
						"type": "INT32"
					},
					{
						"name": "statuscode",
						"type": "INT32"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "INT32"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "INT32"
					},
					{
						"name": "versionnumber",
						"type": "INT64"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/SourceComentariosProyecto')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-mc2_comentarios_proyecto.parquet')",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-golden"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "createdby",
						"type": "UTF8"
					},
					{
						"name": "createdbyname",
						"type": "UTF8"
					},
					{
						"name": "createdbyyominame",
						"type": "UTF8"
					},
					{
						"name": "createdon",
						"type": "INT96"
					},
					{
						"name": "createdonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "importsequencenumber",
						"type": "INT32"
					},
					{
						"name": "mc2_actividad_principal",
						"type": "UTF8"
					},
					{
						"name": "mc2_aprobacion",
						"type": "UTF8"
					},
					{
						"name": "mc2_comentario",
						"type": "UTF8"
					},
					{
						"name": "mc2_comentarios_proyectoid",
						"type": "UTF8"
					},
					{
						"name": "mc2_fecha",
						"type": "INT96"
					},
					{
						"name": "modifiedby",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyyominame",
						"type": "UTF8"
					},
					{
						"name": "modifiedon",
						"type": "INT96"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "overriddencreatedon",
						"type": "INT96"
					},
					{
						"name": "ownerid",
						"type": "UTF8"
					},
					{
						"name": "owneridname",
						"type": "UTF8"
					},
					{
						"name": "owneridtype",
						"type": "UTF8"
					},
					{
						"name": "owneridyominame",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunit",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunitname",
						"type": "UTF8"
					},
					{
						"name": "owningteam",
						"type": "UTF8"
					},
					{
						"name": "owninguser",
						"type": "UTF8"
					},
					{
						"name": "statecode",
						"type": "INT32"
					},
					{
						"name": "statuscode",
						"type": "INT32"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "INT32"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "INT32"
					},
					{
						"name": "versionnumber",
						"type": "INT64"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/SourceE3CMaestroCompraAreaFuncional')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-e3c_maestro_compra_area_funcional.parquet')",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-golden"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "createdby",
						"type": "UTF8"
					},
					{
						"name": "createdbyname",
						"type": "UTF8"
					},
					{
						"name": "createdbyyominame",
						"type": "UTF8"
					},
					{
						"name": "createdon",
						"type": "INT96"
					},
					{
						"name": "createdonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "e3c_area_funcional",
						"type": "UTF8"
					},
					{
						"name": "e3c_denominacion",
						"type": "UTF8"
					},
					{
						"name": "e3c_maestro_compra_area_funcionalid",
						"type": "UTF8"
					},
					{
						"name": "importsequencenumber",
						"type": "INT32"
					},
					{
						"name": "modifiedby",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyyominame",
						"type": "UTF8"
					},
					{
						"name": "modifiedon",
						"type": "INT96"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "overriddencreatedon",
						"type": "INT96"
					},
					{
						"name": "ownerid",
						"type": "UTF8"
					},
					{
						"name": "owneridname",
						"type": "UTF8"
					},
					{
						"name": "owneridtype",
						"type": "UTF8"
					},
					{
						"name": "owneridyominame",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunit",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunitname",
						"type": "UTF8"
					},
					{
						"name": "owningteam",
						"type": "UTF8"
					},
					{
						"name": "owninguser",
						"type": "UTF8"
					},
					{
						"name": "statecode",
						"type": "INT32"
					},
					{
						"name": "statuscode",
						"type": "INT32"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "INT32"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "INT32"
					},
					{
						"name": "versionnumber",
						"type": "INT64"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/SourceE3CMaestroCompraAriba')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureDataLakeStorageGen2",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Sources"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@concat(formatDatetime(utcnow(),'yyyMMdd'),'-e3c_maestro_compra_ariba.parquet')",
							"type": "Expression"
						},
						"folderPath": {
							"value": "@{formatDatetime(utcnow(),'yyy')}/@{formatDatetime(utcnow(),'MM')}",
							"type": "Expression"
						},
						"fileSystem": "mc2-bs-golden"
					},
					"compressionCodec": "snappy"
				},
				"schema": [
					{
						"name": "createdby",
						"type": "UTF8"
					},
					{
						"name": "createdbyname",
						"type": "UTF8"
					},
					{
						"name": "createdbyyominame",
						"type": "UTF8"
					},
					{
						"name": "createdon",
						"type": "INT96"
					},
					{
						"name": "createdonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "e3c_descripcion",
						"type": "UTF8"
					},
					{
						"name": "e3c_id",
						"type": "UTF8"
					},
					{
						"name": "e3c_maestro_compra_aribaid",
						"type": "UTF8"
					},
					{
						"name": "importsequencenumber",
						"type": "INT32"
					},
					{
						"name": "modifiedby",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedbyyominame",
						"type": "UTF8"
					},
					{
						"name": "modifiedon",
						"type": "INT96"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "UTF8"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "UTF8"
					},
					{
						"name": "overriddencreatedon",
						"type": "INT96"
					},
					{
						"name": "ownerid",
						"type": "UTF8"
					},
					{
						"name": "owneridname",
						"type": "UTF8"
					},
					{
						"name": "owneridtype",
						"type": "UTF8"
					},
					{
						"name": "owneridyominame",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunit",
						"type": "UTF8"
					},
					{
						"name": "owningbusinessunitname",
						"type": "UTF8"
					},
					{
						"name": "owningteam",
						"type": "UTF8"
					},
					{
						"name": "owninguser",
						"type": "UTF8"
					},
					{
						"name": "statecode",
						"type": "INT32"
					},
					{
						"name": "statuscode",
						"type": "INT32"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "INT32"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "INT32"
					},
					{
						"name": "versionnumber",
						"type": "INT64"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureDataLakeStorageGen2')]"
			]
		}
	]
}